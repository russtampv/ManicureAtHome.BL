Entity Framework Core 3.1.1 initialized 'ManicureSaloonContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoneExecuted DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];Entity Framework Core 3.1.1 initialized 'ManicureSaloonContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoneEntity Framework Core 3.1.1 initialized 'ManicureSaloonContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoneExecuted DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];Applying migration '20200302163902_Update_ServiceTable'.Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Materials] DROP CONSTRAINT [FK_Materials_WareHouse_WareHouseId];Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [WareHouse] DROP CONSTRAINT [FK_WareHouse_SoldServices_SoldServiceId];Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_WareHouse_SoldServiceId] ON [WareHouse];Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Materials_WareHouseId] ON [Materials];Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[WareHouse]') AND [c].[name] = N'SoldServiceId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [WareHouse] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [WareHouse] DROP COLUMN [SoldServiceId];Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SoldServices]') AND [c].[name] = N'TimeToWork');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [SoldServices] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [SoldServices] DROP COLUMN [TimeToWork];Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Materials]') AND [c].[name] = N'Count');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Materials] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Materials] DROP COLUMN [Count];Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Materials]') AND [c].[name] = N'WareHouseId');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Materials] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Materials] DROP COLUMN [WareHouseId];Executed DbCommand (324ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[SoldServices].[Price]', N'Total', N'COLUMN';Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[Services].[manicureName]', N'ManicureName', N'COLUMN';Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[WareHouse]') AND [c].[name] = N'ProductType');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [WareHouse] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [WareHouse] ALTER COLUMN [ProductType] nvarchar(100) NULL;Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[WareHouse]') AND [c].[name] = N'ProductName');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [WareHouse] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [WareHouse] ALTER COLUMN [ProductName] nvarchar(200) NULL;Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [WareHouse] ADD [MaterialId] int NULL;Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Services]') AND [c].[name] = N'WorkTime');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [Services] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [Services] ALTER COLUMN [WorkTime] time NOT NULL;Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Materials] ADD [DopInfo] nvarchar(700) NULL;Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_WareHouse_MaterialId] ON [WareHouse] ([MaterialId]);Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [WareHouse] ADD CONSTRAINT [FK_WareHouse_Materials_MaterialId] FOREIGN KEY ([MaterialId]) REFERENCES [Materials] ([Id]) ON DELETE NO ACTION;Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200302163902_Update_ServiceTable', N'3.1.1');Entity Framework Core 3.1.1 initialized 'ManicureSaloonContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoneExecuted DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];Entity Framework Core 3.1.1 initialized 'ManicureSaloonContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoneEntity Framework Core 3.1.1 initialized 'ManicureSaloonContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoneExecuted DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];Applying migration '20200302164954_TimeFormatToServiceTable'.Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [SoldServices] ADD [TotalTime] time NULL;Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200302164954_TimeFormatToServiceTable', N'3.1.1');Entity Framework Core 3.1.1 initialized 'ManicureSaloonContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoneExecuted DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];Entity Framework Core 3.1.1 initialized 'ManicureSaloonContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoneEntity Framework Core 3.1.1 initialized 'ManicureSaloonContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoneExecuted DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];